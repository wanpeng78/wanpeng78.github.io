"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[3586],{3905:(e,r,a)=>{a.d(r,{Zo:()=>u,kt:()=>c});var n=a(7294);function t(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function o(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?o(Object(a),!0).forEach((function(r){t(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}function p(e,r){if(null==e)return{};var a,n,t=function(e,r){if(null==e)return{};var a,n,t={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],r.indexOf(a)>=0||(t[a]=e[a]);return t}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var s=n.createContext({}),i=function(e){var r=n.useContext(s),a=r;return e&&(a="function"==typeof e?e(r):l(l({},r),e)),a},u=function(e){var r=i(e.components);return n.createElement(s.Provider,{value:r},e.children)},d="mdxType",v={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},m=n.forwardRef((function(e,r){var a=e.components,t=e.mdxType,o=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),d=i(a),m=t,c=d["".concat(s,".").concat(m)]||d[m]||v[m]||o;return a?n.createElement(c,l(l({ref:r},u),{},{components:a})):n.createElement(c,l({ref:r},u))}));function c(e,r){var a=arguments,t=r&&r.mdxType;if("string"==typeof e||t){var o=a.length,l=new Array(o);l[0]=m;var p={};for(var s in r)hasOwnProperty.call(r,s)&&(p[s]=r[s]);p.originalType=e,p[d]="string"==typeof e?e:t,l[1]=p;for(var i=2;i<o;i++)l[i]=a[i];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},9705:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>s,contentTitle:()=>l,default:()=>v,frontMatter:()=>o,metadata:()=>p,toc:()=>i});var n=a(7462),t=(a(7294),a(3905));const o={id:"\u5927\u6570\u636e\u73af\u5883\u642d\u5efa",title:"\u5927\u6570\u636e\u73af\u5883\u642d\u5efa",author:"wanpeng",author_title:"\u4f1a\u719f\u7ec3\u5199hello world!!!\u7684\u5927\u5b66\u7272",author_url:"https://github.com/wanpeng78",author_image_url:"https://avatars.githubusercontent.com/u/71480226?v=4",tags:["Hadoop","test","docusaurus"]},l=void 0,p={permalink:"/blogs/build/blog/bigdata",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/bigdata.md",source:"@site/blog/bigdata.md",title:"\u5927\u6570\u636e\u73af\u5883\u642d\u5efa",description:"\u4e00\u3001\u57fa\u7840\u73af\u5883\u51c6\u5907",date:"2023-05-16T05:12:47.556Z",formattedDate:"2023\u5e745\u670816\u65e5",tags:[{label:"Hadoop",permalink:"/blogs/build/blog/tags/hadoop"},{label:"test",permalink:"/blogs/build/blog/tags/test"},{label:"docusaurus",permalink:"/blogs/build/blog/tags/docusaurus"}],readingTime:6.245,hasTruncateMarker:!0,authors:[{name:"wanpeng",title:"\u4f1a\u719f\u7ec3\u5199hello world!!!\u7684\u5927\u5b66\u7272",url:"https://github.com/wanpeng78",imageURL:"https://avatars.githubusercontent.com/u/71480226?v=4"}],frontMatter:{id:"\u5927\u6570\u636e\u73af\u5883\u642d\u5efa",title:"\u5927\u6570\u636e\u73af\u5883\u642d\u5efa",author:"wanpeng",author_title:"\u4f1a\u719f\u7ec3\u5199hello world!!!\u7684\u5927\u5b66\u7272",author_url:"https://github.com/wanpeng78",author_image_url:"https://avatars.githubusercontent.com/u/71480226?v=4",tags:["Hadoop","test","docusaurus"]},nextItem:{title:"Welcome",permalink:"/blogs/build/blog/welcome"}},s={authorsImageUrls:[void 0]},i=[{value:"\u4e00\u3001\u57fa\u7840\u73af\u5883\u51c6\u5907",id:"\u4e00\u57fa\u7840\u73af\u5883\u51c6\u5907",level:2},{value:"1.\u4fee\u6539\u4e3b\u673a\u540d\u3001\u6dfb\u52a0\u7f51\u7edc\u6620\u5c04\u548c\u4e3b\u673a\u6620\u5c04hosts\u6587\u4ef6\u3001\u5173\u95ed\u9632\u706b\u5899\u4e0eSELinux\uff1a",id:"1\u4fee\u6539\u4e3b\u673a\u540d\u6dfb\u52a0\u7f51\u7edc\u6620\u5c04\u548c\u4e3b\u673a\u6620\u5c04hosts\u6587\u4ef6\u5173\u95ed\u9632\u706b\u5899\u4e0eselinux",level:4},{value:"2.\u914d\u7f6entp\u65f6\u95f4\u540c\u6b65\uff1a",id:"2\u914d\u7f6entp\u65f6\u95f4\u540c\u6b65",level:4},{value:"3.\u914d\u7f6e\u514d\u5bc6\u767b\u5f55\uff1a",id:"3\u914d\u7f6e\u514d\u5bc6\u767b\u5f55",level:4},{value:"\u4e8c\u3001\u5b89\u88c5JDK\u73af\u5883\uff1a",id:"\u4e8c\u5b89\u88c5jdk\u73af\u5883",level:2},{value:"1. \u5220\u9664\u672c\u673a\u81ea\u5e26\u7684jdk:",id:"1-\u5220\u9664\u672c\u673a\u81ea\u5e26\u7684jdk",level:4},{value:"2.\u89e3\u538bjdk\u5b89\u88c5\u5305\u5230\u6307\u5b9a\u76ee\u5f55\uff1a",id:"2\u89e3\u538bjdk\u5b89\u88c5\u5305\u5230\u6307\u5b9a\u76ee\u5f55",level:4},{value:"3.\u6dfb\u52a0\u5168\u5c40\u73af\u5883\u53d8\u91cf\uff1a",id:"3\u6dfb\u52a0\u5168\u5c40\u73af\u5883\u53d8\u91cf",level:4},{value:"4.\u540c\u6b65slaves\u8282\u70b9\u73af\u5883\u53d8\u91cf\u4e0e\u5b89\u88c5\u76ee\u5f55\uff1a",id:"4\u540c\u6b65slaves\u8282\u70b9\u73af\u5883\u53d8\u91cf\u4e0e\u5b89\u88c5\u76ee\u5f55",level:4},{value:"5.\u9a8c\u8bc1\uff1a",id:"5\u9a8c\u8bc1",level:4},{value:"\u4e09\u3001Hadoop\u914d\u7f6e\u6587\u4ef6\uff1a",id:"\u4e09hadoop\u914d\u7f6e\u6587\u4ef6",level:2},{value:"1.hadoop-env.sh\u6587\u4ef6\uff1a",id:"1hadoop-envsh\u6587\u4ef6",level:4},{value:"2.yarn-env.sh",id:"2yarn-envsh",level:4},{value:"3.core-site.xml",id:"3core-sitexml",level:4},{value:"4.hdfs-site.xml",id:"4hdfs-sitexml",level:4},{value:"5.yarn-site.xml",id:"5yarn-sitexml",level:4},{value:"6.mapred-site.xml",id:"6mapred-sitexml",level:4},{value:"7.\u914d\u7f6e\u548c\u9a8c\u8bc1\u542f\u52a8\u96c6\u7fa4",id:"7\u914d\u7f6e\u548c\u9a8c\u8bc1\u542f\u52a8\u96c6\u7fa4",level:4},{value:"\u56db\u3001zk\u914d\u7f6e\u6587\u4ef6\uff1a",id:"\u56dbzk\u914d\u7f6e\u6587\u4ef6",level:2},{value:"1\u4fee\u6539\u8fd9\u4e24\u4e2a\u914d\u7f6e\u6587\u4ef6",id:"1\u4fee\u6539\u8fd9\u4e24\u4e2a\u914d\u7f6e\u6587\u4ef6",level:4},{value:"2.\u6839\u636e\u8282\u70b9\u4fee\u6539myid\uff0c\u8fdc\u7a0b\u62f7\u8d1d\uff1a",id:"2\u6839\u636e\u8282\u70b9\u4fee\u6539myid\u8fdc\u7a0b\u62f7\u8d1d",level:4},{value:"3.\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff1a",id:"3\u914d\u7f6e\u73af\u5883\u53d8\u91cf",level:4},{value:"4.\u542f\u52a8ZK\u8fdb\u7a0b\uff1a",id:"4\u542f\u52a8zk\u8fdb\u7a0b",level:4},{value:"5.ZK\u5176\u4ed6\u8bf4\u660e\uff1a\uff08zoo.cfg\u6587\u4ef6\u89e3\u6790\uff09",id:"5zk\u5176\u4ed6\u8bf4\u660ezoocfg\u6587\u4ef6\u89e3\u6790",level:4},{value:"\u4e94\u3001hbase\u914d\u7f6e\u6587\u4ef6\uff1a",id:"\u4e94hbase\u914d\u7f6e\u6587\u4ef6",level:2},{value:"1.hbase-site.xml",id:"1hbase-sitexml",level:4},{value:"2.hbase-env.sh",id:"2hbase-envsh",level:4},{value:"3.regionservers\u548c\u590d\u5236hadoop\u7684hdfs/core\u6587\u4ef6\u5230hbase\u7684conf",id:"3regionservers\u548c\u590d\u5236hadoop\u7684hdfscore\u6587\u4ef6\u5230hbase\u7684conf",level:4},{value:"\u516d\u3001hive\u914d\u7f6e\u6587\u4ef6",id:"\u516dhive\u914d\u7f6e\u6587\u4ef6",level:2},{value:"1.slave2\u6570\u636e\u5e93",id:"1slave2\u6570\u636e\u5e93",level:4},{value:"2.slave1\u670d\u52a1\u7aef",id:"2slave1\u670d\u52a1\u7aef",level:4},{value:"3.master\u5ba2\u6237\u7aef",id:"3master\u5ba2\u6237\u7aef",level:4},{value:"4.\u542f\u52a8Hive:",id:"4\u542f\u52a8hive",level:4},{value:"\u4e03\u3001spark\u914d\u7f6e\u6587\u4ef6",id:"\u4e03spark\u914d\u7f6e\u6587\u4ef6",level:2},{value:"1.\u5b89\u88c5scala\u73af\u5883",id:"1\u5b89\u88c5scala\u73af\u5883",level:4},{value:"2.spark-env.sh:",id:"2spark-envsh",level:4},{value:"3.slaves:",id:"3slaves",level:4},{value:"\u516b\u3001\u5168\u5c40\u73af\u5883\u53d8\u91cf",id:"\u516b\u5168\u5c40\u73af\u5883\u53d8\u91cf",level:2}],u={toc:i},d="wrapper";function v(e){let{components:r,...a}=e;return(0,t.kt)(d,(0,n.Z)({},u,a,{components:r,mdxType:"MDXLayout"}),(0,t.kt)("h2",{id:"\u4e00\u57fa\u7840\u73af\u5883\u51c6\u5907"},"\u4e00\u3001\u57fa\u7840\u73af\u5883\u51c6\u5907"),(0,t.kt)("h4",{id:"1\u4fee\u6539\u4e3b\u673a\u540d\u6dfb\u52a0\u7f51\u7edc\u6620\u5c04\u548c\u4e3b\u673a\u6620\u5c04hosts\u6587\u4ef6\u5173\u95ed\u9632\u706b\u5899\u4e0eselinux"},"1.\u4fee\u6539\u4e3b\u673a\u540d\u3001\u6dfb\u52a0\u7f51\u7edc\u6620\u5c04\u548c\u4e3b\u673a\u6620\u5c04hosts\u6587\u4ef6\u3001\u5173\u95ed\u9632\u706b\u5899\u4e0eSELinux\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"\u5982\u679c\u91cd\u7f6e\uff1a\ncd \nrm -rf .ssh/\n")),(0,t.kt)("h4",{id:"2\u914d\u7f6entp\u65f6\u95f4\u540c\u6b65"},"2.\u914d\u7f6entp\u65f6\u95f4\u540c\u6b65\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"master\u8282\u70b9\u64cd\u4f5c\u6b65\u9aa4\uff1a\ntzselect   5911 \uff08\u4fee\u6539\u65f6\u533a\uff09\nyum  install  -y  ntp\nsystemctl restart ntpd\nvi  /etc/ntp.conf\nserver  127.127.1.0\nfudge  127.127.1.0   stratum 10    \n    \nslave\u8282\u70b9\u64cd\u4f5c\u6b65\u9aa4\uff1a\nntpdate  master\n\n*/30 10-17 * * * ntpdate master\n\u65e9\u5341\u665a\u4e94\u6bcf\u9694\u534a\u4e2a\u5c0f\u65f6\u540c\u6b65\u65f6\u95f4  \n")),(0,t.kt)("h4",{id:"3\u914d\u7f6e\u514d\u5bc6\u767b\u5f55"},"3.\u914d\u7f6e\u514d\u5bc6\u767b\u5f55\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"\u5404\u4e2a\u8282\u70b9\u5747\u9700\u8981\u914d\u7f6e\uff1a\n\u65b9\u5f0f\u4e00\uff1a\nssh-keygen \nssh-copy-id root@master\nssh-copy-id root@slave1\nssh-copy-id root@slave2\n\n\u65b9\u5f0f\u4e8c\uff1a\nssh-keygen -t dsa -P '' -f ~/.ssh/id_dsa\nssh-copy-id -i /root/.ssh/id_dsa.pub slave1\nssh-copy-id -i /root/.ssh/id_dsa.pub slave2\n")),(0,t.kt)("h2",{id:"\u4e8c\u5b89\u88c5jdk\u73af\u5883"},"\u4e8c\u3001\u5b89\u88c5JDK\u73af\u5883\uff1a"),(0,t.kt)("h4",{id:"1-\u5220\u9664\u672c\u673a\u81ea\u5e26\u7684jdk"},"1. \u5220\u9664\u672c\u673a\u81ea\u5e26\u7684jdk:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"yum  remove  java*  -y \n")),(0,t.kt)("h4",{id:"2\u89e3\u538bjdk\u5b89\u88c5\u5305\u5230\u6307\u5b9a\u76ee\u5f55"},"2.\u89e3\u538bjdk\u5b89\u88c5\u5305\u5230\u6307\u5b9a\u76ee\u5f55\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"mkdir -p /usr/java\ntar -zxvf /opt/jdk-8u171-linux-x64.tar.gz -C /usr/java/\n")),(0,t.kt)("h4",{id:"3\u6dfb\u52a0\u5168\u5c40\u73af\u5883\u53d8\u91cf"},"3.\u6dfb\u52a0\u5168\u5c40\u73af\u5883\u53d8\u91cf\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"vi  /etc/profile\n\n#JAVA HOME\nexport JAVA_HOME=/usr/java/jdk1.8.0_171\nexport PATH=$PATH:$JAVA_HOME/bin\n")),(0,t.kt)("h4",{id:"4\u540c\u6b65slaves\u8282\u70b9\u73af\u5883\u53d8\u91cf\u4e0e\u5b89\u88c5\u76ee\u5f55"},"4.\u540c\u6b65slaves\u8282\u70b9\u73af\u5883\u53d8\u91cf\u4e0e\u5b89\u88c5\u76ee\u5f55\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"scp -r /usr/java root@slave1:/usr/\nscp -r /usr/java root@slave2:/usr/\nscp -r /etc/profile root@slave1:/etc/\nscp -r /etc/profile root@slave2:/etc/\n")),(0,t.kt)("h4",{id:"5\u9a8c\u8bc1"},"5.\u9a8c\u8bc1\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"source /etc/profile \u6216\u8005 ./etc/profile\njava -version\n")),(0,t.kt)("h2",{id:"\u4e09hadoop\u914d\u7f6e\u6587\u4ef6"},"\u4e09\u3001Hadoop\u914d\u7f6e\u6587\u4ef6\uff1a"),(0,t.kt)("h4",{id:"1hadoop-envsh\u6587\u4ef6"},"1.hadoop-env.sh\u6587\u4ef6\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"export JAVA_HOME=/usr/java/jdk1.8.0_171\n")),(0,t.kt)("h4",{id:"2yarn-envsh"},"2.yarn-env.sh"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"export JAVA_HOME=/usr/java/jdk1.8.0_221 \n")),(0,t.kt)("h4",{id:"3core-sitexml"},"3.core-site.xml"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"<configuration>\n<property>\n<name>fs.default.name</name>\n<value>hdfs://master:9000</value>\n</property>\n<property>\n<name>hadoop.tmp.dir</name>\n<value>/usr/hadoop/hadoop-2.7.7/hdfs/tmp</value>\n<description>A base for other temporary directories.</description>\n</property>\n<property>\n<name>io.file.buffer.size</name>\n<value>131072</value>\n</property>\n<property>\n<name>fs.checkpoint.period</name>\n<value>60</value>\n</property>\n<property>\n<name>fs.checkpoint.size</name>\n<value>67108864</value>\n</property>\n</configuration>\n")),(0,t.kt)("h4",{id:"4hdfs-sitexml"},"4.hdfs-site.xml"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"<configuration>\n<property>\n<name>dfs.replication</name>\n<value>2</value>\n</property>\n<property>\n<name>dfs.namenode.name.dir</name>\n<value>file:/usr/hadoop/hadoop-2.7.7/hdfs/name</value>\n<final>true</final>\n</property>\n<property>\n<name>dfs.datanode.data.dir</name>\n<value>file:/usr/hadoop/hadoop-2.7.7/hdfs/data</value>\n<final>true</final>\n</property>\n<property>\n<name>dfs.namenode.secondary.http-master</name>\n<value>master:9001</value>\n</property>\n<property>\n<name>dfs.webhdfs.enabled</name>\n<value>true</value>\n</property>\n<property>\n<name>dfs.permissions</name>\n<value>false</value>\n</property>\n</configuration>\n")),(0,t.kt)("h4",{id:"5yarn-sitexml"},"5.yarn-site.xml"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"<configuration>\n<property>\n<name>yarn.resourcemanager.master</name>\n<value>master:18040</value>\n</property>\n<property>\n<name>yarn.resourcemanager.scheduler.master</name>\n<value>master:18030</value>\n</property>\n<property>\n<name>yarn.resourcemanager.webapp.master</name>\n<value>master:18088</value>\n</property>\n<property>\n<name>yarn.resourcemanager.resource-tracker.master</name>\n<value>master:18025</value>\n</property>\n<property>\n<name>yarn.resourcemanager.admin.master</name>\n<value>master:18141</value>\n</property>\n<property>\n<name>yarn.nodemanager.aux-services</name>\n<value>mapreduce_shuffle</value>\n</property>\n<property>\n<name>yarn.nodemanager.auxservices.mapreduce.shuffle.class</name>\n<value>org.apache.hadoop.mapred.ShuffleHandler</value>\n</property>\n\x3c!-- Site specific YARN configuration properties --\x3e\n</configuration>\n")),(0,t.kt)("h4",{id:"6mapred-sitexml"},"6.mapred-site.xml"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"<configuration>\n<property>\n<name>mapreduce.framework.name</name>\n<value>yarn</value>\n</property>\n</configuration>\n")),(0,t.kt)("h4",{id:"7\u914d\u7f6e\u548c\u9a8c\u8bc1\u542f\u52a8\u96c6\u7fa4"},"7.\u914d\u7f6e\u548c\u9a8c\u8bc1\u542f\u52a8\u96c6\u7fa4"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"slaves\uff0cmaster\nhadoop namenode -format \nsbin/start-all.sh\n")),(0,t.kt)("h2",{id:"\u56dbzk\u914d\u7f6e\u6587\u4ef6"},"\u56db\u3001zk\u914d\u7f6e\u6587\u4ef6\uff1a"),(0,t.kt)("h4",{id:"1\u4fee\u6539\u8fd9\u4e24\u4e2a\u914d\u7f6e\u6587\u4ef6"},"1\u4fee\u6539\u8fd9\u4e24\u4e2a\u914d\u7f6e\u6587\u4ef6"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"vi zoo.cfg\n\ndataDir=/usr/zookeeper/zookeeper-3.4.14/zkdata\ndataLogDir=/usr/zookeeper/zookeeper-3.4.14/zkdatalog   \nserver.1=master:2888:3888\nserver.2=slave1:2888:3888\nserver.3=slave2:2888:3888\nvi zkdata/myid\n")),(0,t.kt)("h4",{id:"2\u6839\u636e\u8282\u70b9\u4fee\u6539myid\u8fdc\u7a0b\u62f7\u8d1d"},"2.\u6839\u636e\u8282\u70b9\u4fee\u6539myid\uff0c\u8fdc\u7a0b\u62f7\u8d1d\uff1a"),(0,t.kt)("h4",{id:"3\u914d\u7f6e\u73af\u5883\u53d8\u91cf"},"3.\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"vi  /etc/profile\n#Zookeeper HOME \nexport ZOOKEEPER_HOME=/usr/zookeeper/zookeeper-3.4.10\nexport PATH=$ZOOKEEPER_HOME/bin:$PATH\n")),(0,t.kt)("h4",{id:"4\u542f\u52a8zk\u8fdb\u7a0b"},"4.\u542f\u52a8ZK\u8fdb\u7a0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"source /etc/profile\n\n\u542f\u52a8\uff08\u4f4d\u7f6e/usr/zookeeper/zookeeper-3.4.14\uff09\nbin/zkServer.sh start\n\n\u67e5\u770b\u72b6\u6001\uff08\u8981\u7b49\u4e09\u4e2a\u865a\u62df\u673a\u6267\u884c\u5b8c\u542f\u52a8\u547d\u4ee4\u540e\u624d\u884c\uff09\nbin/zkServer.sh status\n")),(0,t.kt)("h4",{id:"5zk\u5176\u4ed6\u8bf4\u660ezoocfg\u6587\u4ef6\u89e3\u6790"},"5.ZK\u5176\u4ed6\u8bf4\u660e\uff1a\uff08zoo.cfg\u6587\u4ef6\u89e3\u6790\uff09"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"tickTime=2000   #\u5fc3\u8df3\u95f4\u9694\n\ninitLimit=10        #\u6700\u5927\u521d\u59cb\u65f6\u95f4\u9650\u523610\u500d\u5fc3\u8df3\n\nsyncLimit=5       #\u8bf7\u6c42\u5e94\u7b54\u65f6\u957f5\u500d\u5fc3\u8df3\n\ndataDir=/usr/zookeeper/zookeeper-3.4.14/zkdata   # \u6570\u636e\u76ee\u5f55\nclientPort=2181  #\u5ba2\u6237\u7aef\u3001\u670d\u52a1\u7aef\u8fde\u63a5\u7aef\u53e3\ndataLogDir=/usr/zookeeper/zookeeper-3.4.14/zkdatalog   #\u65e5\u5fd7\u76ee\u5f55\n\nserver.1=master:2888:3888   #\u96c6\u7fa4\u5217\u8868\nserver.2=slave1:2888:3888\nserver.3=slave2:2888:3888\n")),(0,t.kt)("h2",{id:"\u4e94hbase\u914d\u7f6e\u6587\u4ef6"},"\u4e94\u3001hbase\u914d\u7f6e\u6587\u4ef6\uff1a"),(0,t.kt)("h4",{id:"1hbase-sitexml"},"1.hbase-site.xml"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"<configuration>\n<property>\n<name>hbase.rootdir</name>\n<value>hdfs://master:9000/hbase</value>\n</property>\n<property>\n<name>hbase.cluster.distributed</name>\n<value>true</value>\n</property>\n<property>\n<name>hbase.master</name>\n<value>hdfs://master:6000</value>\n</property>\n<property>\n<name>hbase.zookeeper.quorum</name>\n<value>master,slave1,slave2</value>\n</property>\n<property>\n<name>hbase.zookeeper.property.dataDir</name>\n<value>/usr/zookeeper/zookeeper-3.4.10</value>\n</property>\n</configuration>\n")),(0,t.kt)("h4",{id:"2hbase-envsh"},"2.hbase-env.sh"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"export HBASE_MANAGES_ZK=false\nexport JAVA_HOME=/usr/java/jdk1.8.0_171\nexport HBASE_CLASSPATH=/usr/hadoop/hadoop-2.7.7/etc/hadoop\n")),(0,t.kt)("h4",{id:"3regionservers\u548c\u590d\u5236hadoop\u7684hdfscore\u6587\u4ef6\u5230hbase\u7684conf"},"3.regionservers\u548c\u590d\u5236hadoop\u7684hdfs/core\u6587\u4ef6\u5230hbase\u7684conf"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"\u8fd0\u884c\u548c\u6d4b\u8bd5\uff0c\u5728master\u4e0a\u6267\u884c(\u4fdd\u8bc1hadoop\u548czookeeper\u5df2\u5f00\u542f)\uff1a \njps\n\n")),(0,t.kt)("p",null,(0,t.kt)("img",{parentName:"p",src:"https://gitee.com/gogo_2199426220/blogimage/raw/master/blogimage/20211213120812.png",alt:null})),(0,t.kt)("h2",{id:"\u516dhive\u914d\u7f6e\u6587\u4ef6"},"\u516d\u3001hive\u914d\u7f6e\u6587\u4ef6"),(0,t.kt)("h4",{id:"1slave2\u6570\u636e\u5e93"},"1.slave2\u6570\u636e\u5e93"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"\u5148\u914d\u7f6e\u672c\u5730yum\u6e90\u6587\u4ef6\n\u5b89\u88c5 MySQL\uff1a wget http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm yum -y localinstall mysql57-community-release-el7-8.noarch.rpm yum -y install mysql-community-server\n\u542f\u52a8\u670d\u52a1 \n\u91cd\u8f7d\u6240\u6709\u4fee\u6539\u8fc7\u7684\u914d\u7f6e\u6587\u4ef6\uff1asystemctl daemon-reload \n\u5f00\u542f\u670d\u52a1\uff1asystemctl start mysqld\n\u5f00\u673a\u81ea\u542f\uff1asystemctl enable mysqld\ngrep \"temporary password\" /var/log/mysqld.log   \n\u767b\u9646 MySQL\uff1amysql -uroot -p\uff08\u6ce8\u610f\u4e2d\u82f1\u6587\uff09\n4.MySQL \u5bc6\u7801\u5b89\u5168\u7b56\u7565\u8bbe\u7f6e\uff1a\n\u8bbe\u7f6e\u5bc6\u7801\u5f3a\u5ea6\u4e3a\u4f4e\u7ea7\uff1aset global validate_password_policy=0;\n\u8bbe\u7f6e\u5bc6\u7801\u957f\u5ea6\uff1aset global validate_password_length=4;  \u4fee\u6539\u672c\u5730\u5bc6\u7801\uff1aalter user 'root'@'localhost' identified by '123456'; \n\u9000\u51fa\uff1a\\q\n\u8bbe\u7f6e\u8fdc\u7a0b\u767b\u5f55 \u4ee5\u65b0\u5bc6\u7801\u767b\u9646 MySQL\uff1amysql -uroot -p123456  \u521b\u5efa\u7528\u6237\uff1acreate user 'root'@'%' identified by '123456'; \n\u5141\u8bb8\u8fdc\u7a0b\u8fde\u63a5\uff1agrant all privileges on *.* to 'root'@'%' with grant option; \n\u5237\u65b0\u6743\u9650\uff1aflush privileges;\n")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"master \u4e2d\u6267\u884c\n\u7531\u4e8e\u5ba2\u6237\u7aef\u9700\u8981\u548c hadoop \u901a\u4fe1\uff0c\u6240\u4ee5\u9700\u8981\u66f4\u6539 Hadoop \u4e2d jline \u7684\u7248\u672c\u3002\u5373\u4fdd\u7559\u4e00\u4e2a\u9ad8\u7248 \u672c\u7684 jline jar \u5305\uff0c\u4ece hive \u7684 lib \u5305\u4e2d\u62f7\u8d1d\u5230 Hadoop \u4e2d lib \u4f4d\u7f6e\ncp /usr/hive/apache-hive-2.1.1-bin/lib/jline-2.12.jar /usr/hadoop/hadoop-2.7.3/share/hadoop/yarn/lib/\nslave1 \u4e2d\u8fdb\u884c\n\u56e0\u4e3a\u670d\u52a1\u7aef\u9700\u8981\u548c Mysql \u901a\u4fe1\uff0c\u6240\u4ee5\u670d\u52a1\u7aef\u9700\u8981\u5c06 Mysql \u7684\u4f9d\u8d56\u5305\u653e\u5728 Hive \u7684 lib \u76ee\u5f55 \u4e0b\ncd /usr/hive/apache-hive-2.1.1-bin/lib\nwget http://10.10.88.2:8000/bigdata/bigdata_tar/mysql-connector-java-5.1.47-bin.jar\nscp -r mysql-connector-java-5.1.47-bin.jar root@master:/usr/hive/apache-hive-2.1.1-bin/lib/\n")),(0,t.kt)("h4",{id:"2slave1\u670d\u52a1\u7aef"},"2.slave1\u670d\u52a1\u7aef"),(0,t.kt)("p",null,"hive-env.sh"),(0,t.kt)("p",null,"hive-site.xml"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"HADOOP_HOME=/usr/hadoop/hadoop-2.7.7\nexport HIVE_CONF_DIR=/usr/hive/apache-hive-2.1.1-bin/conf/\n")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"<configuration>\n\x3c!-- Hive\u4ea7\u751f\u7684\u5143\u6570\u636e\u5b58\u653e\u4f4d\u7f6e--\x3e\n<property>\n<name>hive.metastore.warehouse.dir</name>\n<value>/user/hive_remote/warehouse</value>\n</property>\n\x3c!-- \u6570\u636e\u5e93\u8fde\u63a5JDBC\u7684URL\u5730\u5740--\x3e\n<property>\n<name>javax.jdo.option.ConnectionURL</name> \n<value>jdbc:mysql://slave2:3306/hive?createDatabaseIfNotExist=true&amp;useSSL=false</value>\n</property>\n\x3c!-- \u6570\u636e\u5e93\u8fde\u63a5driver\uff0c\u5373MySQL\u9a71\u52a8--\x3e\n<property>\n<name>javax.jdo.option.ConnectionDriverName</name>\n<value>com.mysql.jdbc.Driver</value>\n</property>\n\x3c!-- MySQL\u6570\u636e\u5e93\u7528\u6237\u540d--\x3e\n<property>\n<name>javax.jdo.option.ConnectionUserName</name>\n<value>root</value>\n</property>\n\x3c!-- MySQL\u6570\u636e\u5e93\u5bc6\u7801--\x3e\n<property>\n<name>javax.jdo.option.ConnectionPassword</name>\n<value>123456</value>\n</property>\n<property>\n<name>hive.metastore.schema.verification</name>\n<value>false</value>\n</property>\n<property>\n<name>datanucleus.schema.autoCreateAll</name>\n<value>true</value>\n</property>\n</configuration\n")),(0,t.kt)("h4",{id:"3master\u5ba2\u6237\u7aef"},"3.master\u5ba2\u6237\u7aef"),(0,t.kt)("p",null,"hive-env.sh"),(0,t.kt)("p",null,"hive-site.xml"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"HADOOP_HOME=/usr/hadoop/hadoop-2.7.7\nexport HIVE_CONF_DIR=/usr/hive/apache-hive-2.1.1-bin/conf/\n\n\n\n\u4e0b\u9762\u8fd9\u4e2a\u66f4\u5168\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\nHADOOP_HOME=/usr/hadoop/hadoop-2.7.7\nexport HIVE_HOME=/usr/hive/apache-hive-2.1.1-bin/\nexport HIVE_CONF_DIR=/usr/hive/apache-hive-2.1.1-bin/conf/\n# \u914d\u7f6eHive\u8fd0\u884c\u8d44\u6e90\u5e93\u8def\u5f84\u4e3alib\nexport HIVE_AUX_JARS_PATH=/usr/hive/apache-hive-2.1.1-bin/lib/\n\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\n")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"<configuration>\n\x3c!-- Hive\u4ea7\u751f\u7684\u5143\u6570\u636e\u5b58\u653e\u4f4d\u7f6e--\x3e\n<property>\n<name>hive.metastore.warehouse.dir</name>\n<value>/user/hive_remote/warehouse</value>\n</property>\n\x3c!--- \u4f7f\u7528\u672c\u5730\u670d\u52a1\u8fde\u63a5Hive,\u9ed8\u8ba4\u4e3atrue--\x3e\n<property>\n<name>hive.metastore.local</name>\n<value>false</value>\n</property>\n\x3c!-- \u8fde\u63a5\u670d\u52a1\u5668--\x3e\n<property>\n<name>hive.metastore.uris</name>\n<value>thrift://slave1:9083</value>\n</property>\n</configuration>\n")),(0,t.kt)("h4",{id:"4\u542f\u52a8hive"},"4.\u542f\u52a8Hive:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"\u542f\u52a8 hive server \u670d\u52a1\uff08slave1 \u4e0a\uff09 bin/hive --service metastore\uff08\u6ce8\u610f\u7a7a\u683c\uff09\n\u542f\u52a8 hive client(master \u4e0a) bin/hive\n")),(0,t.kt)("h2",{id:"\u4e03spark\u914d\u7f6e\u6587\u4ef6"},"\u4e03\u3001spark\u914d\u7f6e\u6587\u4ef6"),(0,t.kt)("h4",{id:"1\u5b89\u88c5scala\u73af\u5883"},"1.\u5b89\u88c5scala\u73af\u5883"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"scala -version\n")),(0,t.kt)("h4",{id:"2spark-envsh"},"2.spark-env.sh:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"export SPARK_MASTER_IP=master\nexport SCALA_HOME=/usr/scala/scala-2.11.12\nexport SPARK_WORKER_MEMORY=8g\nexport JAVA_HOME=/usr/java/jdk1.8.0_171\nexport HADOOP_HOME=/usr/hadoop/hadoop-2.7.7\nexport HADOOP_CONF_DIR=/usr/hadoop/hadoop-2.7.7/etc/hadoop\n")),(0,t.kt)("h4",{id:"3slaves"},"3.slaves:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"\u5f00\u542f spark \u73af\u5883\uff08master \u8282\u70b9\uff09 \u547d\u4ee4\uff1a/usr/spark/spark-2.4.0-bin-hadoop2.7/sbin/start-all.sh\n")),(0,t.kt)("h2",{id:"\u516b\u5168\u5c40\u73af\u5883\u53d8\u91cf"},"\u516b\u3001\u5168\u5c40\u73af\u5883\u53d8\u91cf"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"# JAVA_HOME\nexport JAVA_HOME=/usr/java/jdk1.8.0_171\nexport PATH=$PATH:$JAVA_HOME/bin\n# ZOOKEEPER_HOME\nexport ZOOKEEPER_HOME=/usr/zookeeper/zookeeper-3.4.10\nexport PATH=$ZOOKEEPER_HOME/bin:$PATH\n# HADOOP_HOME\nexport HADOOP_HOME=/usr/hadoop/hadoop-2.7.7\nexport CLASSPATH=$CLASSPATH:$HADOOP_HOME/lib\nexport PATH=$PATH:$HADOOP_HOME/bin\n# HBASE_HOME\nexport HBASE_HOME=/usr/hbase/hbase-1.2.4\nexport PATH=$PATH:$HBASE_HOME/bin\n# HIVE_HOME\nexport HIVE_HOME=/usr/hive/apache-hive-2.1.1-bin\nexport PATH=$PATH:$HIVE_HOME/bin\n# SCALA_HOME\nexport  SCALA_HOME=/usr/scala/scala-2.11.12\nexport  PATH=$SCALA_HOME/bin:$PATH\n#Spark  HOME\nexport SPARK_HOME=/usr/spark/spark-2.4.0-bin-hadoop2.7.7\nexport PATH=$SPARK_HOME/bin:$PATH\n")))}v.isMDXComponent=!0}}]);